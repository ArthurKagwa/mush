# MushPi Hub Example Environment Configuration
# Copy to .env (do NOT commit secrets). Omit keys to use defaults.

# ---- BLE Write Preferences ----
MUSHPI_BLE_CONTROL_PREFER_NO_RESPONSE=false
MUSHPI_BLE_STAGE_PREFER_NO_RESPONSE=false
MUSHPI_BLE_OVERRIDE_PREFER_NO_RESPONSE=true
MUSHPI_BLE_WRITE_RETRY_DELAY_MS=200

# ---- Control Targets Read Robustness ----
MUSHPI_BLE_READ_TIMEOUT_MS=4000
MUSHPI_BLE_READ_RETRY_DELAY_MS=600
MUSHPI_BLE_READ_MAX_RETRIES=1

# ---- Stage Write Backward Compatibility ----
# Map unsupported species IDs to a supported one (src:dst pairs)
# Example: Custom(99) and LionsMane(3) both map to Oyster(1)
MUSHPI_SPECIES_WRITE_COMPAT_MAP=99:1,3:1
# Allow-list of species IDs Pi currently supports (first used as fallback)
MUSHPI_PI_SUPPORTED_SPECIES_IDS=1,2,3
# Fallback species ID if unsupported & not mapped
MUSHPI_SPECIES_FALLBACK_ID=1
# Clamp expectedDays within min/max
MUSHPI_STAGE_EXPECTED_DAYS_MIN=1
MUSHPI_STAGE_EXPECTED_DAYS_MAX=365

# ---- Offline Cache Behavior ----
MUSHPI_BLE_OFFLINE_USE_CACHE=true

# ---- Config Streaming (future integration) ----
# MUSHPI_CONFIG_PATH=data/stage_config.json
# MUSHPI_BLE_CONFIG_MAX_DOC_SIZE=32768
# MUSHPI_BLE_CONFIG_MAX_CHUNK=512
# MUSHPI_BLE_CONFIG_RATE_LIMIT_MS=750
# MUSHPI_BLE_CONFIG_WRITE_PIN=1234
# MUSHPI_BLE_CONFIG_WRITE_AUTH=token-abc

# ThingSpeak cloud replication (optional)
# Enable to replicate sensor readings to ThingSpeak approximately every 5 minutes.
# When disabled or misconfigured, MushPi will continue to operate normally using only the local database.
